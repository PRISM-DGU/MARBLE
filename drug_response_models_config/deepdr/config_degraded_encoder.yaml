# DeepDR Configuration - Degraded Drug Encoder Version
# Drug encoder is replaced with template for LLM to implement

# Never touch
data:
  base_path: /workspace/datasets/shared/
  drug_response_file: drug_response_IC50.csv
  drug_smiles_file: drug_smiles.csv
  gene_expression_file: gene_expression.txt
  preprocessing:
    cache_dir: /workspace/datasets/deepdr/
  excluded_cells: []
  split_ratio: 0.8

# Never touch
data_dimensions:
  raw:
    gene_expression_dim: 6163
    drug_ecfp_dim: 512
    drug_graph_features: 78
  processed:
    drug_embedding_dim: 64
    cell_embedding_dim: 100

# Never touch
model:
  name: DeepDR
  version: "2.0"

# DEGRADED - LLM implements this
  drug_encoder:
    type: drug_encoder_other  # Changed to other for LLM implementation
    input:
      dim: 78
    architecture:
      mpg_dim: 768
      freeze: false
      use_conv: true
      num_layer: 5
      dropout: 0.0
      pool_type: mean
    output:
      dim: 64

# Keep original
  cell_encoder:
    type: cell_encoder_deepdr
    input:
      dim: 6163
    architecture:
      hidden_layers: [2048, 512]
      dropout: 0.1
      use_dae: false
      dae_weights_path: null
    output:
      dim: 100

# Keep original
  decoder:
    type: decoder_deepdr
    architecture:
      fusion_dim: 164
      dropout: 0.1
      use_batch_norm: false
      pool_type: mean

# Never touch
  predictor:
    type: regression
    input:
      dim: 164
    architecture:
      hidden_layers: [512, 256, 128]
      dropout: 0.1
      activation: relu
    output:
      dim: 1

training:
  batch_size: 64
  epochs: 100
  learning_rate: 0.0001
  weight_decay: 0.00001
  early_stopping_patience: 10
  device: cuda
  seed: 42

# Never touch
evaluation:
  metrics:
    - mse
    - rmse
    - pearson
    - spearman
    - r2
  batch_size: 64

# Never touch
output:
  result_path: ./results/
  checkpoint_dir: ./checkpoints/
  log_file: null

# Never touch
logging:
  level: INFO
  log_file: ./logs/deepdr_training.log
