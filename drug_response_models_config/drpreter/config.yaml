# Never touch
data:
  base_path: /workspace/datasets/shared/ # Never touch
  drug_response_file: drug_response_IC50.csv # Never touch
  drug_smiles_file: drug_smiles.csv # Never touch
  gene_expression_file: gene_expression.txt # Never touch
  ppi_matrix_file: /workspace/datasets/drpreter/ppi_matrix.csv # Never touch
  preprocessing:
    cache_dir: /workspace/datasets/drpreter/ # Never touch
    pathway_pickle: 34pathway_score990.pkl # Never touch
  excluded_cells: [] # Never touch
  split_ratio: 0.8 # Never touch

# Never touch
data_dimensions:
  raw:
    drug_node_features: 77
    gene_expression_dim: 17737
    num_genes: 2188
    gene_features: 1
  # processed dimensions are calculated dynamically by encoders

# Never touch
model:
  name: DRPreter
  version: "1.0"

# Can touch
  drug_encoder:
    type: drug_encoder_drpreter  # Registry: drug_encoder_drpreter, drug_encoder_other
    input:
      node_features: 77 # Never touch
    architecture:
      hidden_dim: 128 # Can touch
      n_layers: 3 # Can touch

# Can touch
  cell_encoder:
    type: cell_encoder_drpreter  # Registry: cell_encoder_drpreter, cell_encoder_other
    input:
      num_features: 1 # Never touch
      num_genes: 2188 # Never touch
    architecture:
      hidden_dim: 8 # Can touch
      n_layers: 3 # Can touch
      dropout: 0.0 # Can touch

# Can touch
  decoder:
    type: decoder_drpreter  # Registry: decoder_drpreter, decoder_other
    architecture:
      drug_embedding_dim: 256 # Can touch
      drug_embedding_dropout: 0.1 # Can touch
      cell_embedding_dim: 256 # Can touch
      cell_embedding_dropout: 0.1 # Can touch
      cell_embedding_hidden_dim: 1024 # Can touch

# Never touch
  predictor:
    type: regression # Never touch
    architecture:
      hidden_layers: [256, 128] # Can touch
      dropout: 0.3 # Can touch
      activation: elu # Can touch
    output:
      dim: 1 # Never touch

training:
  batch_size: 32 # Can touch
  epochs: 100 # Can touch
  learning_rate: 0.001 # Can touch
  weight_decay: 0.00001 # Can touch
  early_stopping_patience: 10 # Can touch
  device: cuda # Never touch
  seed: 42 # Never touch

# Never touch
evaluation:
  metrics:
    - mse
    - rmse
    - pearson
    - spearman
    - ci
  batch_size: 32

# Never touch
output:
  result_path: ./results/
  checkpoint_dir: ./checkpoints/
  log_file: null

# Never touch
logging:
  level: INFO
  log_file: ./logs/drpreter_training.log
